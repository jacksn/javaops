<html xmlns:th="http://www.thymeleaf.org">
<!--/*@thymesVar id="user" type="ru.javaops.model.User"*/-->
<!--/*@thymesVar id="projectName" type="java.lang.String"*/-->
<head th:replace="fragments::headTag(${projectName}==null ? 'Редактирование профиля':'Регистрация на проект '+ ${projectName})">
    <meta charset="UTF-8"/>
    <title>Профиль</title>
    <link rel="stylesheet" href="../static/bootstrap-3.3.6/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="../css/style.css"/>
    <link rel="shortcut icon" href="../static/img/java_cup.ico"/>
</head>
<body>
<th:block th:include="fragments::header(${authorized})"/>
<div class="jumbotron">
    <div class="container">
        <br/>
        <h2 th:text="${projectName}==null ? 'Редактирование профиля':'Регистрация на проект '+ ${projectName}">
            Редактирование профиля
        </h2>
        <br/>
        <form class="form-horizontal" method="post" action="profile/save">
            <div class="form-group ">
                <label class="control-label col-xs-4">Имя Фамилия</label>
                <div class="col-xs-6">
                    <input class="form-control" name="nameSurname" placeholder="Имя Фамилия"
                           th:value="${user.fullName}"/>
                </div>
            </div>

            <div class="form-group ">
                <label class="control-label col-xs-4">Email</label>
                <div class="col-xs-6">
                    <input class="form-control" name="email" th:value="${user.email}" readonly="readonly"/>
                </div>
            </div>

            <div class="form-group ">
                <label class="control-label col-xs-4">Gmail (для Google авторизации)</label>
                <div class="col-xs-6">
                    <input class="form-control" name="gmail" th:value="${user.gmail}"/>
                </div>
            </div>

            <div class="form-group">
                <label class="control-label col-xs-4">Skype</label>
                <div class="col-xs-6">
                    <input class="form-control" name="skype" th:value="${user.skype}"/>
                </div>
            </div>

            <div class="form-group">
                <label class="control-label col-xs-4">Город (проверь из списка)</label>
                <div class="col-xs-6">
                    <input class="form-control" name="location" list="location" th:value="${user.location}"/>
                </div>
                <datalist id="location">
                    <option value="">Выберите (или введите) город</option>
                    <option value="Москва">Москва</option>
                    <option value="Санкт-Петербург">Санкт-Петербург</option>
                    <option value="Киев">Киев</option>
                    <option value="Минск">Минск</option>
                    <option value="Харьков">Харьков</option>
                    <option value="Новосибирск">Новосибирск</option>
                    <option value="Днепропетровск">Днепропетровск</option>
                    <option value="Одесса">Одесса</option>
                    <option value="Уфа">Уфа</option>
                    <option value="Владивосток">Владивосток</option>
                    <option value="Краснодар">Краснодар</option>
                    <option value="Львов">Львов</option>
                    <option value="Запорожье">Запорожье</option>
                    <option value="Самара">Самара</option>
                    <option value="Нижний Новгород">Нижний Новгород</option>
                    <option value="Николаев">Николаев</option>
                    <option value="Гродно">Гродно</option>
                    <option value="Казань">Казань</option>
                    <option value="Караганда">Караганда</option>
                    <option value="Гомель">Гомель</option>
                    <option value="Пермь">Пермь</option>
                    <option value="Рига">Рига</option>
                    <option value="Алматы">Алматы</option>
                    <option value="Днепр">Днепр</option>
                    <option value="Саратов">Саратов</option>
                    <option value="Астана">Астана</option>
                    <option value="Los Angeles">Los Angeles</option>
                    <option value="Екатеринбург">Екатеринбург</option>
                    <option value="Ростов-на-дону">Ростов-на-дону</option>
                    <option value="Херсон">Херсон</option>
                    <option value="Воронеж">Воронеж</option>
                    <option value="Ижевск">Ижевск</option>
                </datalist>
            </div>

            <div class="form-group ">
                <label class="control-label col-xs-4">Текущее место работы</label>
                <div class="col-xs-6">
                    <input class="form-control" name="company" th:value="${user.company}"/>
                </div>
                <div class="checkbox col-xs-offset-4 col-xs-6">
                    <label class="control-label"><input th:checked="${user.underRecruitment}" type="checkbox"
                                                        name="underRecruitment"/>
                        На работе готовы трудоустроить наших лучших выпускников
                    </label>
                </div>
                <div class="checkbox col-xs-offset-4 col-xs-6">
                    <label class="control-label"><input th:checked="${user.jobThroughTopjava}" type="checkbox"
                                                        name="jobThroughTopjava"/>
                        Получил работу благодаря стажировке Java Online Projects
                    </label>
                </div>
            </div>

            <div class="form-group ">
                <label class="control-label col-xs-4">Ссылка на резюме</label>
                <div class="col-xs-6">
                    <input class="form-control" name="resumeUrl" type="url" th:value="${user.resumeUrl}"/>
                </div>

                <div class="checkbox col-xs-offset-4 col-xs-6">
                    <label class="control-label"><input th:checked="${user.considerJobOffers}" type="checkbox"
                                                        id="considerJobOffers" name="considerJobOffers"
                                                        onclick="handleRelocation()"/>
                        Рассматриваю предложения о работе
                    </label>
                </div>

                <div class="checkbox col-xs-offset-4 col-xs-6" id="relocationCheck">
                    <label class="control-label">
                        <input th:checked="${user.relocationReady}" type="checkbox"
                               id="relocationReady" name="relocationReady" onclick="handleRelocation()"/>
                        Рассматриваю релокацию
                    </label>
                </div>
            </div>
            <div class="form-group" id="relocation">
                <label class="control-label col-xs-4">Выбрать несколько через Ctrl:</label>
                <div class="col-xs-6">
                    <select multiple="multiple" class="form-control" name="relocation" size="9"
                            th:with="places = ${ {'Россия', 'Москва', 'Санкт-Петербург','Украина','Киев','Беларусь','Минск','Казахстнан','Европа','Польша','Другое'} }">
                        <option th:each="place : ${places}" th:value="${place}" th:text="${place}"
                                th:selected="${user.relocation!=null and user.relocation.contains(place)}"/>
                    </select>
                </div>
            </div>
            <div class="form-group">
                <label class="control-label col-xs-4">Обо мне. Опыт с Java</label>
                <div class="col-xs-6">
                    <textarea class="form-control " name="aboutMe" rows="5" th:utext="${user.aboutMe}"></textarea>
                </div>
                <th:block th:if="${user.isMember()}">
                    <div class="checkbox col-xs-offset-3 col-xs-10">
                        <label class="control-label"><input th:checked="${user.statsAgree}" type="checkbox"
                                                            name="statsAgree"/>
                            Согласен на размещением своих данных в закрытой статистике группы
                        </label>
                    </div>
                </th:block>
            </div>

            <div class="form-group">
                <div class="col-xs-offset-4 col-xs-6">
                    <button type="submit" class="btn btn-primary">Сохранить</button>
                </div>
            </div>

            <input type="hidden" name="id" th:value="${user.id}"/>
            <input th:if="${projectName}!=null" type="hidden" name="project" th:value="${projectName}"/>
            <!--/*@thymesVar id="key" type="java.lang.String"*/-->
            <!--<input type="hidden" name="key" th:value="${key}"/>-->
        </form>
    </div>
</div>
</body>
<script type="text/javascript" src="../static/jquery-1.12.0.min.js"></script>
<script type="application/javascript">
    $(function () {
        handleRelocation();

    });
    function handleRelocation() {
        if ($("#considerJobOffers").is(':checked')) {
            $("#relocationCheck").show();
            if ($("#relocationReady").is(':checked')) {
                $("#relocation").show();
            } else {
                $("#relocation").hide();
            }
        } else {
            $("#relocationCheck").hide();
            $("#relocation").hide();
        }
    }
</script>
</html>